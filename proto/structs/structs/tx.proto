syntax = "proto3";

package structs;

import "gogoproto/gogo.proto";
import "google/protobuf/any.proto";
import "cosmos_proto/cosmos.proto";
import "structs/structs/keys.proto";
import "structs/structs/planet.proto";
import "structs/structs/struct.proto";


option go_package = "structs/x/structs/types";

// Msg defines the Msg service.
service Msg {
  rpc AllocationCreate               (MsgAllocationCreate              ) returns (MsgAllocationCreateResponse              );
  rpc SubstationCreate               (MsgSubstationCreate              ) returns (MsgSubstationCreateResponse              );
  rpc SubstationDelete               (MsgSubstationDelete              ) returns (MsgSubstationDeleteResponse              );
  rpc SubstationAllocationConnect    (MsgSubstationAllocationConnect   ) returns (MsgSubstationAllocationConnectResponse   );
  rpc SubstationAllocationDisconnect (MsgSubstationAllocationDisconnect) returns (MsgSubstationAllocationDisconnectResponse);
  rpc SubstationPlayerConnect        (MsgSubstationPlayerConnect       ) returns (MsgSubstationPlayerConnectResponse       );
  rpc SubstationPlayerDisconnect     (MsgSubstationPlayerDisconnect    ) returns (MsgSubstationPlayerDisconnectResponse    );
  rpc GuildCreate                    (MsgGuildCreate                   ) returns (MsgGuildCreateResponse                   );
  rpc GuildUpdateOwnerId             (MsgGuildUpdateOwnerId            ) returns (MsgGuildUpdateResponse                   );
  rpc GuildUpdateEntrySubstationId   (MsgGuildUpdateEntrySubstationId  ) returns (MsgGuildUpdateResponse                   );
  rpc GuildUpdateEndpoint            (MsgGuildUpdateEndpoint           ) returns (MsgGuildUpdateResponse                   );
  rpc GuildUpdateJoinInfusionMinimum (MsgGuildUpdateJoinInfusionMinimum ) returns (MsgGuildUpdateResponse                  );
  rpc GuildUpdateJoinInfusionMinimumBypassByInvite  (MsgGuildUpdateJoinInfusionMinimumBypassByInvite  ) returns (MsgGuildUpdateResponse );
  rpc GuildUpdateJoinInfusionMinimumBypassByRequest (MsgGuildUpdateJoinInfusionMinimumBypassByRequest ) returns (MsgGuildUpdateResponse );
  rpc GuildApproveRegister           (MsgGuildApproveRegister          ) returns (MsgGuildApproveRegisterResponse          );
  rpc PlayerCreateProxy              (MsgPlayerCreateProxy             ) returns (MsgPlayerCreateProxyResponse             );
  rpc PlayerCreate                   (MsgPlayerCreate                  ) returns (MsgPlayerCreateResponse                  );
  rpc PlayerUpdatePrimaryAddress     (MsgPlayerUpdatePrimaryAddress    ) returns (MsgPlayerUpdatePrimaryAddressResponse    );
  rpc AddressRegister                (MsgAddressRegister               ) returns (MsgAddressRegisterResponse               );
  rpc AddressApproveRegister         (MsgAddressApproveRegister        ) returns (MsgAddressRegisterResponse               );
  rpc AddressRevoke                  (MsgAddressRevoke                 ) returns (MsgAddressRevokeResponse                 );
  rpc PlanetExplore                  (MsgPlanetExplore                 ) returns (MsgPlanetExploreResponse                 );
  rpc StructActivate                 (MsgStructActivate                ) returns (MsgStructActivateResponse                );
  rpc StructBuildInitiate            (MsgStructBuildInitiate           ) returns (MsgStructBuildInitiateResponse           );
  rpc StructBuildComplete            (MsgStructBuildComplete           ) returns (MsgStructBuildCompleteResponse           );
  rpc StructMineActivate             (MsgStructMineActivate            ) returns (MsgStructMineActivateResponse            );
  rpc StructMineDeactivate           (MsgStructMineDeactivate          ) returns (MsgStructMineDeactivateResponse          );
  rpc StructMine                     (MsgStructMine                    ) returns (MsgStructMineResponse                    );
  rpc StructRefineActivate           (MsgStructRefineActivate          ) returns (MsgStructRefineActivateResponse          );
  rpc StructRefineDeactivate         (MsgStructRefineDeactivate        ) returns (MsgStructRefineDeactivateResponse        );
  rpc StructRefine                   (MsgStructRefine                  ) returns (MsgStructRefineResponse                  );
  rpc StructInfuse                   (MsgStructInfuse                  ) returns (MsgStructInfuseResponse                  );

  // To Remove after battle mechanics added
  rpc Sabotage                       (MsgSabotage                      ) returns (MsgSabotageResponse                      );
}

message MsgSubstationCreate {
  string creator      = 1;
  string owner        = 2;
  string allocationId = 3;
}

message MsgSubstationCreateResponse {
  string substationId = 1;
}

message MsgSubstationDelete {
  string creator               = 1;
  uint64 substationId          = 2;
  uint64 migrationSubstationId = 3;
}

message MsgSubstationDeleteResponse {}

message MsgSubstationAllocationConnect {
  string creator                 = 1;
  uint64 allocationId            = 2;
  uint64 destinationSubstationId = 3;
}

message MsgSubstationAllocationConnectResponse {}

message MsgSubstationAllocationDisconnect {
  string creator      = 1;
  string allocationId = 2;
}

message MsgSubstationAllocationDisconnectResponse {}

message MsgSubstationPlayerConnect {
  string creator      = 1;
  string substationId = 2;
  string playerId     = 3;
}

message MsgSubstationPlayerConnectResponse {}

message MsgSubstationPlayerDisconnect {
  string creator  = 1;
  string playerId = 2;
}

message MsgSubstationPlayerDisconnectResponse {}


message MsgAllocationCreate {
  string          creator        = 1;
  string          controller     = 2;
  string          sourceObjectId = 3;
  allocationType  allocationType = 4;
  uint64          power          = 5;
}

message MsgAllocationCreateResponse {
  string allocationId = 1;
}


message MsgGuildCreate {
  string creator  = 1;
  string endpoint = 2;
  string entrySubstationId = 3;
}

message MsgGuildCreateResponse { uint64 guildId = 1; }

message MsgGuildUpdateOwnerId {
  string creator            = 1;
  uint64 id                 = 2;
  uint64 owner              = 3;
}

message MsgGuildUpdateEntrySubstationId {
  string creator            = 1;
  uint64 id                 = 2;
  string entrySubstationId  = 3;
}

message MsgGuildUpdateEndpoint {
  string creator            = 1;
  uint64 id                 = 2;
  string endpoint           = 3;
}


message MsgGuildUpdateJoinInfusionMinimum {
  string creator              = 1;
  uint64 id                   = 2;
  uint64 joinInfusionMinimum  = 3;
}

message MsgGuildUpdateJoinInfusionMinimumBypassByRequest {
  string creator                = 1;
  uint64 id                     = 2;
  uint64 guildJoinBypassLevel   = 3;
}

message MsgGuildUpdateJoinInfusionMinimumBypassByInvite {
  string creator                = 1;
  uint64 id                     = 2;
  uint64 guildJoinBypassLevel   = 3;
}


message MsgGuildUpdateResponse{}


message MsgPlayerCreateProxy {
  string creator          = 1;
  string address          = 2;
  string substationId     = 3;
}

message MsgPlayerCreateProxyResponse {}

message MsgPlayerCreate {
  string creator = 1;
  uint64 guildId = 2;
}

message MsgPlayerCreateResponse {}

message MsgAddressApproveRegister {
  string creator     = 1;
  bool   approve     = 2;
  string address     = 3;
  uint64 permissions = 4;
}


message MsgAddressRegister {
  string creator     = 1;
  string playerId    = 2;
  string address     = 3;

}

message MsgAddressRegisterResponse {}

message MsgAddressRevoke {
  string creator  = 1;
  string address  = 2;
}

message MsgAddressRevokeResponse {}

message MsgGuildApproveRegister {
  string creator     = 1;
  bool   approve     = 2;
  uint64 guildId     = 3;
  string playerId    = 4;
}

message MsgGuildApproveRegisterResponse {}


message MsgPlanetExplore {
  string creator     = 1;
}

message MsgPlanetExploreResponse {
  Planet planet = 1 [(gogoproto.nullable) = false];
}



message MsgStructActivate {
  string creator      = 1;
  uint64 structId     = 2;
}

message MsgStructActivateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructBuildInitiate {
  string creator      = 1;

  string structType   = 2;
  uint64 planetId     = 3;
  uint64 slot         = 4;


}

message MsgStructBuildInitiateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructBuildComplete {
  string creator      = 1;
  uint64 structId     = 2;
  string proof        = 3;
  string nonce        = 4;

}

message MsgStructBuildCompleteResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}


message MsgStructMineActivate {
  string creator      = 1;
  uint64 structId     = 2;
}

message MsgStructMineActivateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructMineDeactivate {
  string creator      = 1;
  uint64 structId     = 2;
}

message MsgStructMineDeactivateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructMine {
  string creator      = 1;
  uint64 structId     = 2;
  string proof        = 3;
  string nonce        = 4;
}

message MsgStructMineResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructRefineActivate {
  string creator      = 1;
  uint64 structId     = 2;
}

message MsgStructRefineActivateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructRefineDeactivate {
  string creator      = 1;
  uint64 structId     = 2;
}

message MsgStructRefineDeactivateResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgStructRefine {
  string creator      = 1;
  uint64 structId     = 2;
  string proof        = 3;
  string nonce        = 4;
}

message MsgStructRefineResponse {
  Struct struct = 1 [(gogoproto.nullable) = false];
}

message MsgPlayerUpdatePrimaryAddress {
  string creator        = 1;
  string primaryAddress = 2;
}

message MsgPlayerUpdatePrimaryAddressResponse {}

message MsgStructInfuse{
  string creator        = 1;
  uint64 structId       = 2;
  string infuseAmount   = 3;
}

message MsgStructInfuseResponse {}


message MsgSabotage {
  string creator      = 1;
  uint64 structId     = 2;
  string proof        = 3;
  string nonce        = 4;
}

message MsgSabotageResponse {}